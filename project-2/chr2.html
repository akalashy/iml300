<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Your Color-Sound Experience</title>
  <link rel="stylesheet" href="chr.css" />
  <style>
    html, body {
      margin: 0;
      height: 100%;
      overflow: hidden;
      background: #0e0e12;
      color: #ffffff;
      font-family: Helvetica, Arial, sans-serif;
    }

    h1 {
      text-align: center;
      margin: 20px 0 10px;
      font-weight: 300;
      z-index: 0;
    }

    a {
      display: block;
      text-align: center;
      color: #80c0ff;
      text-decoration: none;
      margin-bottom: 15px;
      z-index: 0;
      position: relative;
    }

    a:hover { text-decoration: underline; }

    /* ‚ú® images default look */
    .img {
      position: absolute;
      width: 110px;
      height: 110px;
      object-fit: cover;
      border-radius: 16px;
      cursor: pointer;
      opacity: 0.45; /* semi-transparent until hover */
      filter: brightness(60%);
      transition: 
        transform 0.3s ease,
        box-shadow 0.3s ease,
        opacity 0.3s ease,
        filter 0.3s ease;
      z-index: 1;
    }

    /* üåà when hovering ‚Äî image ‚Äúopens‚Äù fully */
    .img:hover {
      transform: scale(1.12);
      box-shadow: 0 0 40px #ffffff90;
      opacity: 1;
      filter: brightness(100%);
      z-index: 9999;
    }
  </style>
</head>

<body class="specialCenter">
  <h1>Your Color-Sound Experience</h1>
  <a href="synesthesia.html">‚Üê Main</a>

  <script>
    const items = [
      { img: "assets/a.jpg", sound: "assets/1.mp3" },
      { img: "assets/b.jpg", sound: "assets/2.mp3" },
      { img: "assets/c.jpg", sound: "assets/3.mp3" },
      { img: "assets/d.jpg", sound: "assets/4.mp3" },
      { img: "assets/e.jpg", sound: "assets/5.mp3" },
      { img: "assets/f.jpg", sound: "assets/6.mp3" },
      { img: "assets/g.jpg", sound: "assets/7.mp3" },
      { img: "assets/h.jpg", sound: "assets/8.mp3" },
      { img: "assets/i.jpg", sound: "assets/9.mp3" },
      { img: "assets/j.jpg", sound: "assets/10.mp3" },
      { img: "assets/k.jpg", sound: "assets/11.mp3" },
      { img: "assets/l.jpg", sound: "assets/12.mp3" },
      { img: "assets/m.jpg", sound: "assets/13.mp3" },
      { img: "assets/n.jpg", sound: "assets/14.mp3" },
      { img: "assets/o.jpg", sound: "assets/15.mp3" },
      { img: "assets/p.jpg", sound: "assets/16.mp3" },
      { img: "assets/q.jpg", sound: "assets/17.mp3" },
      { img: "assets/r.jpg", sound: "assets/18.mp3" },
      { img: "assets/s.jpg", sound: "assets/19.mp3" },
      { img: "assets/t.jpg", sound: "assets/20.mp3" },
      { img: "assets/u.jpg", sound: "assets/21.mp3" },
      { img: "assets/v.jpg", sound: "assets/22.mp3" },
      { img: "assets/w.jpg", sound: "assets/23.mp3" },
      { img: "assets/x.jpg", sound: "assets/24.mp3" },
      { img: "assets/y.jpg", sound: "assets/25.mp3" },
      { img: "assets/z.jpg", sound: "assets/26.mp3" }
    ];

    const imgSize = 110;
    const margin = 8;
    const placed = [];

    function overlaps(x, y) {
      return placed.some(p =>
        x < p.x + imgSize + margin &&
        x + imgSize + margin > p.x &&
        y < p.y + imgSize + margin &&
        y + imgSize + margin > p.y
      );
    }

    items.forEach(item => {
      const img = document.createElement("img");
      img.src = item.img;
      img.className = "img";

      let x, y, tries = 0;
      do {
        x = Math.random() * (window.innerWidth - imgSize - margin);
        y = Math.random() * (window.innerHeight - imgSize - margin - 100);
        tries++;
        if (tries > 5000) break;
      } while (overlaps(x, y));

      img.style.left = x + "px";
      img.style.top = (y + 100) + "px";
      placed.push({ x, y });

      const audio = new Audio(item.sound);
      audio.preload = "auto";

      img.addEventListener("click", async () => {
        try {
          audio.currentTime = 0;
          await audio.play();
        } catch (err) {
          console.warn("Audio play error:", err);
        }
      });

      document.body.appendChild(img);
    });
  </script>

  <p style="text-align:center;margin-top:40px;">
    <a href="synfinal.html">Is This All?</a>
  </p>
</body>
</html>
